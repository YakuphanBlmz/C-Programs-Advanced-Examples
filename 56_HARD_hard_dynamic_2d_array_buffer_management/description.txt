EN

You are tasked with developing a core component for a minimalist dynamic text editor: its buffer management system. This system will not deal with actual characters or strings, but rather sequences of integers, where each sequence represents a 'line' of data. The editor's buffer must be entirely dynamic, capable of growing and shrinking as lines are added or removed, and as elements within lines are added or removed. This problem strictly enforces the use of pointers and dynamic memory allocation functions (`malloc`, `realloc`, `free`), focusing on multi-level indirection and efficient memory management.

The buffer will conceptually be a two-dimensional structure: an array of lines, where each line is itself an array of integers. Your implementation must support the following operations:
1.  **Initialize Buffer:** Create an empty buffer with a specified initial capacity for lines.
2.  **Add Line:** Append a new empty line to the buffer. If the buffer's capacity for lines is exceeded, it must be dynamically expanded using `realloc`.
3.  **Add Element to Line:** Insert an integer value at the end of a specific line. If the line's capacity is exceeded, it must be dynamically expanded using `realloc`.
4.  **Delete Line:** Remove a line at a given index. All subsequent lines must be shifted to fill the gap, and the memory for the removed line must be freed. The buffer's overall capacity for lines should be potentially shrunk if it becomes excessively large relative to the number of active lines.
5.  **Delete Element from Line:** Remove an integer value at a given column index from a specific line. All subsequent elements within that line must be shifted, and the line's memory should be potentially shrunk.
6.  **Print Buffer:** Display the current contents of the buffer, showing each line and its elements.
7.  **Free Buffer:** Release all dynamically allocated memory associated with the buffer.

This problem is designated as 'HARD' due to several critical constraints and complexities. Foremost, you are forbidden from using `struct`, `typedef`, or any file I/O operations. This means you cannot encapsulate line data (like current length and capacity) or buffer metadata (total lines, capacity) into convenient structures. Instead, you must manage these aspects using separate, dynamically allocated arrays and pass them explicitly between functions. The core challenge revolves around manipulating `int**` (a pointer to a pointer to an integer) where the outer pointer points to a dynamic array of `int*` (each representing a line), and each `int*` points to a dynamic array of `int`. Operations like `realloc` for both the main buffer and individual lines, combined with the necessity to shift entire blocks of memory after deletions, demand a deep understanding of pointer arithmetic and dynamic memory lifecycle management. Passing the base `int**` to functions that might `realloc` it will require using `int***` (a pointer to a pointer to a pointer to an integer), adding another layer of indirection to master.

TR

Minimalist bir dinamik metin düzenleyicinin çekirdek bileşenlerinden biri olan tampon yönetim sistemini geliştirmeniz istenmektedir. Bu sistem, gerçek karakterler veya dizelerle değil, her bir dizinin bir 'satır' veri temsil ettiği tamsayı dizileriyle ilgilenecektir. Düzenleyicinin tamponu tamamen dinamik olmalı, satırlar eklendikçe veya kaldırıldıkça, ve satırlar içindeki elemanlar eklendikçe veya kaldırıldıkça büyüyüp küçülebilmelidir. Bu problem, işaretçilerin ve dinamik bellek ayırma fonksiyonlarının (`malloc`, `realloc`, `free`) kullanımını kesinlikle şart koşar, çok seviyeli dolaylı adreslemeye ve verimli bellek yönetimine odaklanır.

Tampon, kavramsal olarak iki boyutlu bir yapı olacaktır: her satırın kendisi bir tamsayı dizisi olan satır dizisi. Uygulamanız aşağıdaki işlemleri desteklemelidir:
1.  **Tamponu Başlat:** Belirtilen başlangıç satır kapasitesine sahip boş bir tampon oluşturun.
2.  **Satır Ekle:** Tampona yeni bir boş satır ekleyin. Eğer tamponun satır kapasitesi aşılırsa, `realloc` kullanarak dinamik olarak genişletilmelidir.
3.  **Satıra Eleman Ekle:** Belirli bir satırın sonuna bir tamsayı değeri ekleyin. Eğer satırın kapasitesi aşılırsa, `realloc` kullanarak dinamik olarak genişletilmelidir.
4.  **Satır Sil:** Verilen bir indeksteki satırı kaldırın. Sonraki tüm satırlar boşluğu doldurmak için kaydırılmalı ve kaldırılan satırın belleği serbest bırakılmalıdır. Tamponun genel satır kapasitesi, etkin satır sayısına göre aşırı büyürse potansiyel olarak küçültülmelidir.
5.  **Satırdan Eleman Sil:** Belirli bir satırdan, verilen bir sütun indeksindeki tamsayı değerini kaldırın. O satırdaki sonraki tüm elemanlar kaydırılmalı ve satırın belleği potansiyel olarak küçültülmelidir.
6.  **Tamponu Yazdır:** Tamponun mevcut içeriğini, her satırı ve elemanlarını göstererek görüntüleyin.
7.  **Tamponu Serbest Bırak:** Tamponla ilişkili tüm dinamik olarak ayrılan belleği serbest bırakın.

Bu problem, birkaç kritik kısıtlama ve karmaşıklık nedeniyle 'ZOR' olarak belirlenmiştir. Her şeyden önce, `struct`, `typedef` veya herhangi bir dosya I/O işlemi kullanmanız yasaktır. Bu, satır verilerini (mevcut uzunluk ve kapasite gibi) veya tampon meta verilerini (toplam satır, kapasite) uygun yapılar içinde saramayacağınız anlamına gelir. Bunun yerine, bu yönleri ayrı, dinamik olarak ayrılmış diziler kullanarak yönetmeli ve fonksiyonlar arasında açıkça geçirmelisiniz. Temel zorluk, dış işaretçinin `int*` (her biri bir satırı temsil eden) dinamik bir diziyi işaret ettiği ve her `int*`'in bir `int`'lerin dinamik bir dizisini işaret ettiği `int**` (bir tamsayı işaretçisine işaretçi) manipüle etmek etrafında döner. Ana tampon ve tek tek satırlar için `realloc` gibi işlemler, silme işlemlerinden sonra tüm bellek bloklarını kaydırma gerekliliğiyle birleştiğinde, işaretçi aritmetiği ve dinamik bellek yaşam döngüsü yönetiminde derin bir anlayış gerektirir. Temel `int**`'i `realloc` edebilecek fonksiyonlara geçirmek, `int***` (bir tamsayı işaretçisine işaretçiye işaretçi) kullanmayı gerektirecek ve böylece ustalaşılması gereken bir başka dolaylı adresleme katmanı ekleyecektir.