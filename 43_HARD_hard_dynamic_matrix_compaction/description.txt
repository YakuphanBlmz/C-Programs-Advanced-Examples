EN

In C programming, managing dynamically allocated 2D arrays (matrices) is a fundamental yet challenging task, especially when dealing with variable sizes and complex transformations. A 2D array, in this context, is typically represented as a `pointer to a pointer to an integer` (`int**`), where the first pointer points to an array of `int*` (row pointers), and each `int*` then points to a dynamically allocated array of integers representing a row.

Your task is to implement a robust function that takes a dynamically allocated 2D integer array, its current dimensions (number of rows and columns), and 'compacts' it. Compaction means removing all rows whose elements sum up to zero. The function must return an entirely *new* dynamically allocated 2D array containing only the non-zero-sum rows from the original matrix. The original matrix, along with all its allocated rows, must be completely deallocated within the `main` function after the compaction process is complete and the new matrix has been successfully created. 

This problem explicitly forbids the use of `struct`, `typedef`, or any file I/O operations. Your solution must rely purely on raw pointers, dynamic memory management functions (`malloc`, `free`), and careful pointer arithmetic to navigate and manipulate the 2D arrays. The challenge lies not only in correctly identifying and copying the relevant rows but also in handling all memory allocations and deallocations meticulously, including robust error checking for `malloc` failures and ensuring no memory leaks occur in any scenario. The `main` function should demonstrate the allocation of an initial matrix, its compaction, printing both matrices, and finally, the complete deallocation of all dynamically allocated memory.

TR

C programlamada, dinamik olarak tahsis edilmiş 2 boyutlu dizileri (matrisleri) yönetmek, özellikle değişken boyutlar ve karmaşık dönüşümlerle uğraşırken temel ancak zorlu bir görevdir. Bu bağlamda, 2 boyutlu bir dizi genellikle bir `işaretçinin işaretçisine işaretçi` (`int**`) olarak temsil edilir; burada ilk işaretçi bir `int*` dizisine (satır işaretçileri) işaret eder ve her `int*` daha sonra bir satırı temsil eden dinamik olarak tahsis edilmiş bir tam sayı dizisine işaret eder.

Göreviniz, dinamik olarak tahsis edilmiş bir 2 boyutlu tam sayı dizisini, mevcut boyutlarını (satır ve sütun sayısı) alan ve onu 'sıkıştıran' sağlam bir fonksiyon uygulamaktır. Sıkıştırma, elemanlarının toplamı sıfır olan tüm satırları kaldırmak anlamına gelir. Fonksiyon, orijinal matristeki yalnızca sıfır toplamlı olmayan satırları içeren, tamamen *yeni* dinamik olarak tahsis edilmiş bir 2 boyutlu dizi döndürmelidir. Orijinal matris, tahsis edilmiş tüm satırlarıyla birlikte, sıkıştırma işlemi tamamlandıktan ve yeni matris başarıyla oluşturulduktan sonra `main` fonksiyonu içinde tamamen serbest bırakılmalıdır.

Bu problem, `struct`, `typedef` veya herhangi bir dosya G/Ç işleminin kullanımını açıkça yasaklar. Çözümünüz tamamen ham işaretçilere, dinamik bellek yönetimi fonksiyonlarına (`malloc`, `free`) ve 2 boyutlu dizileri gezmek ve manipüle etmek için dikkatli işaretçi aritmetiğine dayanmalıdır. Zorluk sadece ilgili satırları doğru bir şekilde belirleyip kopyalamakta değil, aynı zamanda `malloc` hataları için sağlam hata kontrolü de dahil olmak üzere tüm bellek tahsis ve serbest bırakma işlemlerini titizlikle yönetmek ve hiçbir senaryoda bellek sızıntısı olmamasını sağlamaktır. `main` fonksiyonu, başlangıç matrisinin tahsisini, sıkıştırılmasını, her iki matrisin yazdırılmasını ve son olarak tüm dinamik olarak tahsis edilmiş belleğin tamamen serbest bırakılmasını göstermelidir.