EN

This problem challenges your understanding of advanced pointer manipulation and dynamic memory management in C. You are tasked with implementing a dynamic 2D integer grid (matrix) without the aid of `struct` or `typedef`. This constraint forces you to manage complex data structures purely through raw pointers and dynamic memory allocation functions like `malloc`, `realloc`, and `free`. The core difficulty lies in representing a resizable 2D structure, where both the number of rows and columns can change during runtime, using only `int**` and keeping track of dimensions separately.

Your solution must provide a set of functions to interact with this dynamic grid. You will implement `create_grid(int rows, int cols)` to allocate and initialize a new grid. Crucially, you need `add_row(int*** grid_ptr, int* rows_ptr, int current_cols, int default_value)` to append a new row, and `add_column(int** grid, int current_rows, int* cols_ptr, int default_value)` to append a new column. Note the differences in argument types for `grid_ptr` in `add_row` vs. `grid` in `add_column`; this distinction is critical for correctly modifying the underlying memory structure. `set_value(int** grid, int row, int col, int value)` will allow modifying individual cells, and `print_grid(int** grid, int rows, int cols)` will display the current state of the grid.

Proper memory management is paramount. Each `malloc` call must be paired with a corresponding `free`, and `realloc` must be handled carefully, especially when it returns `NULL` or potentially changes the base address of an allocated block. You must ensure that all dynamically allocated memory, including individual rows and the array of row pointers, is deallocated using `free_grid(int** grid, int rows)` to prevent memory leaks. Remember, the strict rules prohibit the use of `struct`, `typedef`, and file I/O operations, ensuring that the complexity is derived solely from pointer arithmetic and dynamic memory allocation techniques.

TR

Bu problem, C dilinde gelişmiş işaretçi manipülasyonu ve dinamik bellek yönetimi anlayışınızı zorlayacaktır. Göreviniz, `struct` veya `typedef` kullanmadan dinamik bir 2D tam sayı ızgarası (matris) uygulamaktır. Bu kısıtlama, karmaşık veri yapılarını yalnızca ham işaretçiler ve `malloc`, `realloc`, `free` gibi dinamik bellek tahsis fonksiyonları aracılığıyla yönetmenizi gerektirir. Temel zorluk, hem satır hem de sütun sayısının çalışma zamanında değişebileceği yeniden boyutlandırılabilir bir 2D yapıyı, sadece `int**` kullanarak ve boyutları ayrı ayrı takip ederek temsil etmektir.

Çözümünüz, bu dinamik ızgarayla etkileşime girmek için bir dizi fonksiyon sağlamalıdır. Yeni bir ızgarayı tahsis etmek ve başlatmak için `create_grid(int rows, int cols)` fonksiyonunu uygulayacaksınız. Önemli olarak, yeni bir satır eklemek için `add_row(int*** grid_ptr, int* rows_ptr, int current_cols, int default_value)` ve yeni bir sütun eklemek için `add_column(int** grid, int current_rows, int* cols_ptr, int default_value)` fonksiyonlarına ihtiyacınız var. `add_row`'daki `grid_ptr` ile `add_column`'daki `grid` için argüman türlerindeki farklılıklara dikkat edin; bu ayrım, temel bellek yapısını doğru bir şekilde değiştirmek için kritik öneme sahiptir. `set_value(int** grid, int row, int col, int value)` bireysel hücreleri değiştirmeye olanak tanırken, `print_grid(int** grid, int rows, int cols)` ızgaranın mevcut durumunu görüntüleyecektir.

Doğru bellek yönetimi çok önemlidir. Her `malloc` çağrısı, karşılık gelen bir `free` ile eşleştirilmeli ve özellikle `NULL` döndürdüğünde veya ayrılan bir bloğun taban adresini potansiyel olarak değiştirdiğinde `realloc` dikkatle ele alınmalıdır. Tek tek satırlar ve satır işaretçi dizisi dahil olmak üzere tüm dinamik olarak ayrılmış belleğin, bellek sızıntılarını önlemek için `free_grid(int** grid, int rows)` kullanılarak serbest bırakıldığından emin olmalısınız. Unutmayın, katı kurallar `struct`, `typedef` ve dosya G/Ç işlemlerinin kullanımını yasaklayarak karmaşıklığın yalnızca işaretçi aritmetiği ve dinamik bellek tahsis tekniklerinden türetilmesini sağlar.